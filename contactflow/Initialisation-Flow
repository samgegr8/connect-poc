{"modules":[{"id":"afe61b2c-1cd5-40c7-88e0-2face6bfc4ef","type":"SetEventHook","branches":[{"condition":"Success","transition":"20af2c1f-f000-467c-be80-af2af9afd42f"},{"condition":"Error","transition":"20af2c1f-f000-467c-be80-af2af9afd42f"}],"parameters":[{"name":"Type","value":"AgentHold"},{"name":"ContactFlowId","value":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/3f74e276-4b44-4f8d-8266-3bfb3bab493c","resourceName":"Default agent hold"}],"metadata":{"position":{"x":53.99999491373703,"y":397.9999872843424},"contactFlow":{"id":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/3f74e276-4b44-4f8d-8266-3bfb3bab493c","text":"Default agent hold"},"customerOrAgent":false,"useDynamic":false}},{"id":"20af2c1f-f000-467c-be80-af2af9afd42f","type":"SetEventHook","branches":[{"condition":"Success","transition":"7b3fcfaa-8e3a-470c-baeb-6e272199da08"},{"condition":"Error","transition":"7b3fcfaa-8e3a-470c-baeb-6e272199da08"}],"parameters":[{"name":"Type","value":"CustomerHold"},{"name":"ContactFlowId","value":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/96c97941-7cf8-4198-88f0-6d23e8f2a4e8","resourceName":"Default customer hold"}],"metadata":{"position":{"x":295.99999491373705,"y":402.9999872843424},"contactFlow":{"id":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/96c97941-7cf8-4198-88f0-6d23e8f2a4e8","text":"Default customer hold"},"customerOrAgent":true,"useDynamic":false}},{"id":"7b3fcfaa-8e3a-470c-baeb-6e272199da08","type":"SetEventHook","branches":[{"condition":"Success","transition":"e1d3a0df-d9c7-4861-b436-cc97936a5a27"},{"condition":"Error","transition":"e1d3a0df-d9c7-4861-b436-cc97936a5a27"}],"parameters":[{"name":"Type","value":"AgentWhisper"},{"name":"ContactFlowId","value":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/9658c18b-ac81-4852-a724-ced4fa7526a8","resourceName":"Default agent whisper"}],"metadata":{"position":{"x":50.99999491373703,"y":591.9999872843424},"contactFlow":{"id":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/9658c18b-ac81-4852-a724-ced4fa7526a8","text":"Default agent whisper"},"customerOrAgent":false,"useDynamic":false}},{"id":"f4d19d50-b738-43c2-aee0-f45af73cfcc2","type":"SetRecordingBehavior","branches":[{"condition":"Success","transition":"afe61b2c-1cd5-40c7-88e0-2face6bfc4ef"}],"parameters":[{"name":"RecordingBehaviorOption","value":"Enable"},{"name":"RecordingParticipantOption","value":"Both"}],"metadata":{"position":{"x":291.99999491373705,"y":197.9999872843424}}},{"id":"0852201b-f7b0-4d13-8019-83c61db80cab","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"f4d19d50-b738-43c2-aee0-f45af73cfcc2"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":58.99999491373703,"y":192.9999872843424}}},{"id":"e1d3a0df-d9c7-4861-b436-cc97936a5a27","type":"SetEventHook","branches":[{"condition":"Success","transition":"a3d7a39d-cd63-4dba-bf61-e49ad06f5f71"},{"condition":"Error","transition":"a3d7a39d-cd63-4dba-bf61-e49ad06f5f71"}],"parameters":[{"name":"Type","value":"CustomerWhisper"},{"name":"ContactFlowId","value":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/03ab3cfe-8f22-4cc6-9422-2b65642e8a68","resourceName":"Default customer whisper"}],"metadata":{"position":{"x":294.99999491373705,"y":585.9999872843424},"contactFlow":{"id":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/03ab3cfe-8f22-4cc6-9422-2b65642e8a68","text":"Default customer whisper"},"customerOrAgent":true,"useDynamic":false}},{"id":"0dbb7605-1d1b-45df-9a7e-43ec17a28b5c","type":"Transfer","branches":[{"condition":"Error","transition":"243751e0-bdea-4feb-a1f6-87f5030db070"}],"parameters":[{"name":"ContactFlowId","namespace":"User Defined","value":"CallFlowARN"}],"metadata":{"position":{"x":2954.999994913737,"y":976.9999872843423},"useDynamic":true},"target":"Flow"},{"id":"a3d7a39d-cd63-4dba-bf61-e49ad06f5f71","type":"SetEventHook","branches":[{"condition":"Success","transition":"f2a7b146-442e-476f-86c9-8af49de2ea30"},{"condition":"Error","transition":"f2a7b146-442e-476f-86c9-8af49de2ea30"}],"parameters":[{"name":"Type","value":"CustomerQueue"},{"name":"ContactFlowId","value":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/ab81283c-8ec4-44f0-a884-192848a72e02","resourceName":"Default customer queue"}],"metadata":{"position":{"x":62.99999491373703,"y":776.9999872843424},"contactFlow":{"id":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/ab81283c-8ec4-44f0-a884-192848a72e02","text":"Default customer queue"},"customerOrAgent":true,"useDynamic":false}},{"id":"243751e0-bdea-4feb-a1f6-87f5030db070","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":3332.999994913737,"y":526.9999872843424}}},{"id":"f2a7b146-442e-476f-86c9-8af49de2ea30","type":"SetVoice","branches":[{"condition":"Success","transition":"6fbe3a50-215b-43c8-a240-b1f9c5c92306"}],"parameters":[{"name":"GlobalVoice","value":"Olivia"},{"name":"GlobalEngine","value":"Neural"}],"metadata":{"position":{"x":54,"y":1156},"overrideConsoleVoice":false,"defaultVoice":"None"}},{"id":"ff7f93e6-1208-4da2-837e-82625e4dddef","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"StartsWith","conditionValue":"<speak>","transition":"71b2443d-100d-47e2-9872-ed1491d36ef6"},{"condition":"Evaluate","conditionType":"StartsWith","conditionValue":"arn:","transition":"32cf92e3-22ae-41a1-a506-9b759de3772f"},{"condition":"NoMatch","transition":"32cf92e3-22ae-41a1-a506-9b759de3772f"}],"parameters":[{"name":"Attribute","value":"Prompt"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1189.9999949137373,"y":289.9999872843424},"conditionMetadata":[{"operator":{"name":"Starts with","value":"StartsWith","shortDisplay":"starts with"},"value":"<speak>","id":"b81c7b37-37cb-47c5-aee5-e29eeddc2fcc"},{"operator":{"name":"Starts with","value":"StartsWith","shortDisplay":"starts with"},"value":"arn:","id":"3e94bf1c-c39f-4b2c-9e87-91de2f44670f"}]}},{"id":"e512892e-626f-4bff-9521-939085ea52b0","type":"SetQueue","branches":[{"condition":"Success","transition":"ff7f93e6-1208-4da2-837e-82625e4dddef"},{"condition":"Error","transition":"ff7f93e6-1208-4da2-837e-82625e4dddef"}],"parameters":[{"name":"Queue","value":"QueueARN","namespace":"External","resourceName":null}],"metadata":{"position":{"x":965.9999949137369,"y":818.9999872843424},"useDynamic":true,"queue":"QueueARN"}},{"id":"6fbe3a50-215b-43c8-a240-b1f9c5c92306","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"d09fcf8f-dd22-4c63-ad95-a0af4ba17b8c"},{"condition":"Error","transition":"d09fcf8f-dd22-4c63-ad95-a0af4ba17b8c"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-2:864141050364:function:test-sandbox-routing-numbers","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":377,"y":1021},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"d09fcf8f-dd22-4c63-ad95-a0af4ba17b8c","type":"SetAttributes","branches":[{"condition":"Success","transition":"e512892e-626f-4bff-9521-939085ea52b0"},{"condition":"Error","transition":"e512892e-626f-4bff-9521-939085ea52b0"}],"parameters":[{"name":"Attribute","value":"CallFlowARN","key":"CallFlowARN","namespace":"External"},{"name":"Attribute","value":"QueueARN","key":"QueueARN","namespace":"External"},{"name":"Attribute","value":"Voicemail","key":"Voicemail","namespace":"External"},{"name":"Attribute","value":"Queue","key":"QueueName","namespace":"External"},{"name":"Attribute","value":"VoiceMailNumber","key":"VoiceMailNumber","namespace":"External"},{"name":"Attribute","value":"ForwardNumber","key":"ForwardNumber","namespace":"External"}],"metadata":{"position":{"x":672,"y":523}}},{"id":"71b2443d-100d-47e2-9872-ed1491d36ef6","type":"PlayPrompt","branches":[{"condition":"Success","transition":"2bb8c84e-34c0-41d4-9a42-9051168fd758"}],"parameters":[{"name":"Text","value":"Prompt","namespace":"External"},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":1499.9999949137373,"y":288.9999872843424},"useDynamic":true}},{"id":"32cf92e3-22ae-41a1-a506-9b759de3772f","type":"PlayPrompt","branches":[{"condition":"Success","transition":"2bb8c84e-34c0-41d4-9a42-9051168fd758"}],"parameters":[{"name":"AudioPrompt","value":"Prompt","namespace":"External","resourceName":null}],"metadata":{"position":{"x":1507.9999949137373,"y":483.9999872843424},"useDynamic":true}},{"id":"1ea6aeda-b744-4fe9-ac8d-eae1fb9cda58","type":"PlayPrompt","branches":[{"condition":"Success","transition":"defa405d-6cc8-4283-a9a3-20c69feebda6"}],"parameters":[{"name":"Text","value":"Hello Happy Customers ! we are closed today","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2055,"y":101},"useDynamic":false}},{"id":"2bb8c84e-34c0-41d4-9a42-9051168fd758","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"d32ef6e1-3471-44a2-a6ce-ec3907ddcc56"},{"condition":"Error","transition":"d32ef6e1-3471-44a2-a6ce-ec3907ddcc56"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-2:864141050364:function:test-sandbox-holiday-list","namespace":null},{"name":"TimeLimit","value":"5"},{"name":"Parameter","key":"ThisQueue","value":"$.Attributes.QueueName","namespace":null}],"metadata":{"position":{"x":1755,"y":584},"dynamicMetadata":{"ThisQueue":false},"useDynamic":false},"target":"Lambda"},{"id":"defa405d-6cc8-4283-a9a3-20c69feebda6","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2384,"y":114}}},{"id":"d32ef6e1-3471-44a2-a6ce-ec3907ddcc56","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"StartsWith","conditionValue":"arn:","transition":"1ea6aeda-b744-4fe9-ac8d-eae1fb9cda58"},{"condition":"Evaluate","conditionType":"StartsWith","conditionValue":"<speak>","transition":"c04d3c5a-1ae3-42ef-b8ef-d965f876640d"},{"condition":"NoMatch","transition":"aaf8c304-35d1-4141-a83b-5e58d041dbec"}],"parameters":[{"name":"Attribute","value":"Script"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1758,"y":177},"conditionMetadata":[{"operator":{"name":"Starts with","value":"StartsWith","shortDisplay":"starts with"},"value":"arn:","id":"9fdf9df2-4b6a-4899-9549-2b176a02bf1a"},{"operator":{"name":"Starts with","value":"StartsWith","shortDisplay":"starts with"},"value":"<speak>","id":"bf99aa23-a598-4bf9-bff1-df2ca3152015"}]}},{"id":"c04d3c5a-1ae3-42ef-b8ef-d965f876640d","type":"PlayPrompt","branches":[{"condition":"Success","transition":"defa405d-6cc8-4283-a9a3-20c69feebda6"}],"parameters":[{"name":"Text","value":"Script","namespace":"External"},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":2132,"y":285},"useDynamic":true}},{"id":"aaf8c304-35d1-4141-a83b-5e58d041dbec","type":"CheckHoursOfOperation","branches":[{"condition":"True","transition":"0dbb7605-1d1b-45df-9a7e-43ec17a28b5c"},{"condition":"False","transition":"5f0c6b9b-304b-48d4-b413-d1a7714b9ace"},{"condition":"Error","transition":"5f0c6b9b-304b-48d4-b413-d1a7714b9ace"}],"parameters":[],"metadata":{"position":{"x":2218.999994913737,"y":721.9999872843424}}},{"id":"5f0c6b9b-304b-48d4-b413-d1a7714b9ace","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4cc498fb-2fa5-48d3-9e45-2359b404411d"}],"parameters":[{"name":"Text","value":"<speak> You have called us out of Hours </speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":2021,"y":1008},"useDynamic":false}},{"id":"6207e68a-2162-49c8-8d8a-bf6700cbb317","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2594,"y":1275}}},{"id":"4cc498fb-2fa5-48d3-9e45-2359b404411d","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"7220c080-eb32-4ed5-9b03-2b7989d9f953"},{"condition":"Timeout","transition":"6207e68a-2162-49c8-8d8a-bf6700cbb317"},{"condition":"NoMatch","transition":"6207e68a-2162-49c8-8d8a-bf6700cbb317"},{"condition":"Error","transition":"6207e68a-2162-49c8-8d8a-bf6700cbb317"}],"parameters":[{"name":"Text","value":"If you want to leave a message to our Voicemail System, please press 1.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"10"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":2294,"y":1042},"conditionMetadata":[{"id":"19a894d2-aee2-4e77-a87e-334fa435f66b","value":"1"}],"useDynamic":false,"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":null},"target":"Digits"},{"id":"7220c080-eb32-4ed5-9b03-2b7989d9f953","type":"Transfer","branches":[{"condition":"Error","transition":"6207e68a-2162-49c8-8d8a-bf6700cbb317"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/920fc6de-b431-4b82-8174-de80a1c420fb","resourceName":"0003-voicemail-greeting"}],"metadata":{"position":{"x":2546,"y":1055},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:ap-southeast-2:864141050364:instance/40929af7-c3c3-4674-ae2c-01c390bd3130/contact-flow/920fc6de-b431-4b82-8174-de80a1c420fb","text":"0003-voicemail-greeting","arn":null,"metricDetail":null,"resourceId":null}},"target":"Flow"}],"version":"1","type":"contactFlow","start":"0852201b-f7b0-4d13-8019-83c61db80cab","metadata":{"entryPointPosition":{"x":14.999994913737027,"y":14.999987284342438},"snapToGrid":false,"name":"0000 -Initialisation-Flow","description":"Contact Flow that will Handle All the Incoming Calls","type":"contactFlow","status":"published","hash":"dcbf681a25f0a599b223e1795107f75f0d4a3be90952c3c9062d250c58c20067"}}